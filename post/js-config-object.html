<!DOCTYPE html><html lang="en-US"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Small JS Patterns: Config Object | SPD Blog</title><meta name="description" content="First in JS Patterns Series, fun use of spread operator."/><meta property="og:type" content="website"/><meta name="og:title" property="og:title" content="Small JS Patterns: Config Object"/><meta name="og:description" property="og:description" content="First in JS Patterns Series, fun use of spread operator."/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Small JS Patterns: Config Object"/><meta name="twitter:description" content="First in JS Patterns Series, fun use of spread operator."/><meta name="twitter:creator"/><link rel="icon" type="image/png" href="/static/favicon.ico"/><link rel="apple-touch-icon" href="/static/favicon.ico"/><meta name="next-head-count" content="13"/><link rel="preload" href="/blog/_next/static/css/d3b0ff999e614dc807d6.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/d3b0ff999e614dc807d6.css"/><link rel="preload" href="/blog/_next/static/css/bd9d9c26e848ad9998be.css" as="style"/><link rel="stylesheet" href="/blog/_next/static/css/bd9d9c26e848ad9998be.css"/><link rel="preload" href="/blog/_next/static/chunks/main-3426d16b71b08bec2947.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/webpack-488dc228921f1fdbc0e7.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/framework.a5d4ffe593e18b49243e.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/b59e6658.acdc88755e55ded238c8.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/commons.31bdf4c1b63891aa4bfa.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/_app-21c7a7a663f3cc7fee82.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/1173eff4538ab0eae4f3f506dea9a7965770ad37.ff9aca2ce00f65120db1.js" as="script"/><link rel="preload" href="/blog/_next/static/chunks/pages/post/%5Bslug%5D-87e3a2ae1cb2ab3e35b1.js" as="script"/></head><body><div id="__next"><div class="max-w-screen-sm px-4 py-12 mx-auto antialiased font-body"><header><h1 class="mb-2"><a class="text-2xl font-black text-black no-underline font-display" href="/blog">Some Thoughts</a></h1></header><main><article><header class="mb-8"><h1 class="mb-2 text-6xl font-black leading-none font-display">Small JS Patterns: Config Object</h1><p class="text-sm">August 16, 2020</p></header><div class="mb-4 prose-sm prose sm:prose lg:prose-lg"><p>Sharing here a quick JS pattern that I enjoy using when dealing with when representing some sort of configuration with an object.</p><h3>TLDR</h3><p>When using objects, and assigning key-value pairs, placing array brackets - <!-- -->[<!-- --> <!-- -->]<!-- --> – around a variable will evaluate that variable&#x27;s value instead of using the variable name.</p><h2>Using Configuration Objects</h2><p>This pattern is vanilla JS, so let&#x27;s open up our dev tools within your favorite browser. Create an object that represents potential filters on a movie/tv show selection site:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">let</span><span> filters </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>  category</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#690">&quot;Comedy&quot;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&quot;Horror&quot;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&quot;Sci-fi&quot;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&quot;Anime&quot;</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">,</span><span>
</span><span>  maxDuration</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">120</span><span class="token" style="color:#999">,</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span></code></pre><p>We&#x27;ll assume there is some data list/UI present that handles the possible values available to update this object, such as in this article.</p><p>Let&#x27;s create a function that handles updating our filters value:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable" style="color:#DD4A68">handleFiltersChange</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">key</span><span class="token parameter token" style="color:#999">,</span><span class="token parameter"> newValue</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>  filters </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>filters</span><span class="token" style="color:#999">,</span><span>
</span><span>    </span><span class="token" style="color:#999">[</span><span>key</span><span class="token" style="color:#999">]</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> newValue</span><span class="token" style="color:#999">,</span><span>
</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span></code></pre><p>Note handleFiltersChange accepts two parameters to facilitate updates – both the key of the value to be updated and the new value. We are using the array bracket wrappers over our key values to evaluate the variable value instead of just updating our filter object with a literal &#x27;key&#x27; value.</p><p>Let&#x27;s implement a counter-example without our square brackets to verify the difference:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">const</span><span> </span><span class="token function-variable" style="color:#DD4A68">handleFiltersChangeJustKey</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">(</span><span class="token parameter">key</span><span class="token parameter token" style="color:#999">,</span><span class="token parameter"> newValue</span><span class="token" style="color:#999">)</span><span> </span><span class="token arrow" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=&gt;</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>  filters </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>filters</span><span class="token" style="color:#999">,</span><span>
</span><span>    key</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> newValue</span><span class="token" style="color:#999">,</span><span>
</span><span>  </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span></code></pre><p>Checking our original values persist:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>&gt; filters
</span>{
<!-- -->  category: [&#x27;Comedy&#x27;, &#x27;Horror&#x27;, &#x27;Sci-fi&#x27;, &#x27;Anime&#x27;],
<!-- -->  maxDuration: 120
<!-- -->}
</code></pre><p>Calling our second function, handleFiltersChangeJustKey:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>&gt; handleFiltersChangeJustKey(&#x27;maxDuration&#x27;, 55)
</span>&gt; filters
<!-- -->
<!-- -->{
<!-- -->  category: [&#x27;Comedy&#x27;, &#x27;Horror&#x27;, &#x27;Sci-fi&#x27;, &#x27;Anime&#x27;],
<!-- -->  maxDuration: 120, //expressed in minutes
<!-- -->  key: 55
<!-- -->}
</code></pre><p>Well, that&#x27;s not the update we were looking for... Let&#x27;s try calling our first function, handleFiltersChange:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>&gt; handleFiltersChange (&#x27;maxDuration&#x27;, 90)
</span>&gt; filters
<!-- -->
<!-- -->{
<!-- -->  category: [&#x27;Comedy&#x27;, &#x27;Horror&#x27;, &#x27;Sci-fi&#x27;, &#x27;Anime&#x27;],
<!-- -->  maxDuration: 90,
<!-- -->  key: 55
<!-- -->}
</code></pre><p>Calling handleFiltersChange with a more complex data structure:</p><pre style="color:black;background:#f5f2f0;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>&gt; const newValues = [&#x27;Thriller&#x27;, &#x27;Drama&#x27;, &#x27;Romance&#x27;]
</span>&gt; handleFiltersChange (&#x27;category&#x27;, newValues)
<!-- -->&gt; filters
<!-- -->
<!-- -->{
<!-- -->  category: [&#x27;Thriller&#x27;, &#x27;Drama&#x27;, &#x27;Romance&#x27;],
<!-- -->  maxDuration: 90,
<!-- -->  key: 55
<!-- -->}
</code></pre><h2>That&#x27;s it! Happy coding!</h2></div><hr class="mt-4"/><footer><div class="flex items-center mt-8 mb-16"><img class="lazyload blur-up flex-shrink-0 mb-0 mr-3 rounded-full w-18 h-16" alt="Profile" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAAAklEQVR4AewaftIAAADySURBVE3BvU7CUACG4fccTgGLQESNkGh0cJDExcUYL8A78C7d3N2dHFz8GwwJKqQlAUtpQ8/5jIOJz2OSzw8ZazHGMHp6YHx/y/Diiq3hJUhI4pdFQBCLWcLs7obzo2N6eUIxfeePJKwQQvhiycqLte2A69LK5vxnJVAQzkTE3jJ5faGe55hmC0lIQhLWhIAQzZ1d3MkpaToimzwzJ0IhoCAIwklCgsViyeN3l25WUjZ6VM0ezjawfo2hwoUQmM49b18l+UafzbNrxlpRsx0Gtk6tFuHLAjfLCtIq5uBwQH9/j+WqxLVjttsNvKAKhsI7fgCuWoInGNIgygAAAABJRU5ErkJggg==" data-srcset="/blog/_next/static/images/profile-c2be2d422988d6577a1b39ccdb31661b.png"/><p class="text-base leading-7">Hello there! I&#x27;m <b class="font-semibold">Sean</b>,<!-- --> <!-- -->a software engineer at The Climate Service, though my background is in finance and consulting.<!-- --> <br/><a href="https://linkedin.com/in/spdolan">Connect with me on LinkedIn.</a></p></div></footer></article><nav class="flex justify-between mb-10"><div></div><a class="text-lg font-bold" href="/blog/post/intent">Intent<!-- --> →</a></nav></main><footer class="text-lg font-light">© <!-- -->2020<!-- -->, Built with<!-- --> <a href="https://nextjs.org/">Next.js</a>🔥</footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Small JS Patterns: Config Object","date":"August 16, 2020","modified":"September 5, 2020","description":"First in JS Patterns Series, fun use of spread operator.","tags":["js"]},"post":{"content":"\nSharing here a quick JS pattern that I enjoy using when dealing with when representing some sort of configuration with an object.\n\n### TLDR\n\nWhen using objects, and assigning key-value pairs, placing array brackets - \\[ \\] – around a variable will evaluate that variable's value instead of using the variable name.\n\n## Using Configuration Objects\n\nThis pattern is vanilla JS, so let's open up our dev tools within your favorite browser. Create an object that represents potential filters on a movie/tv show selection site:\n\n```javascript\nlet filters = {\n  category: [\"Comedy\", \"Horror\", \"Sci-fi\", \"Anime\"],\n  maxDuration: 120,\n};\n```\n\nWe'll assume there is some data list/UI present that handles the possible values available to update this object, such as in this article.\n\nLet's create a function that handles updating our filters value:\n\n```javascript\nconst handleFiltersChange = (key, newValue) =\u003e {\n  filters = {\n    ...filters,\n    [key]: newValue,\n  };\n};\n```\n\nNote handleFiltersChange accepts two parameters to facilitate updates – both the key of the value to be updated and the new value. We are using the array bracket wrappers over our key values to evaluate the variable value instead of just updating our filter object with a literal 'key' value.\n\nLet's implement a counter-example without our square brackets to verify the difference:\n\n```javascript\nconst handleFiltersChangeJustKey = (key, newValue) =\u003e {\n  filters = {\n    ...filters,\n    key: newValue,\n  };\n};\n```\n\nChecking our original values persist:\n\n```console\n\u003e filters\n{\n  category: ['Comedy', 'Horror', 'Sci-fi', 'Anime'],\n  maxDuration: 120\n}\n```\n\nCalling our second function, handleFiltersChangeJustKey:\n\n```console\n\u003e handleFiltersChangeJustKey('maxDuration', 55)\n\u003e filters\n\n{\n  category: ['Comedy', 'Horror', 'Sci-fi', 'Anime'],\n  maxDuration: 120, //expressed in minutes\n  key: 55\n}\n```\n\nWell, that's not the update we were looking for... Let's try calling our first function, handleFiltersChange:\n\n```console\n\u003e handleFiltersChange ('maxDuration', 90)\n\u003e filters\n\n{\n  category: ['Comedy', 'Horror', 'Sci-fi', 'Anime'],\n  maxDuration: 90,\n  key: 55\n}\n```\n\nCalling handleFiltersChange with a more complex data structure:\n\n```console\n\u003e const newValues = ['Thriller', 'Drama', 'Romance']\n\u003e handleFiltersChange ('category', newValues)\n\u003e filters\n\n{\n  category: ['Thriller', 'Drama', 'Romance'],\n  maxDuration: 90,\n  key: 55\n}\n```\n\n## That's it! Happy coding!\n","excerpt":""},"previousPost":null,"nextPost":{"slug":"intent","frontmatter":{"title":"Intent","date":"August 30, 2020","modified":"September 5, 2020","description":"Let's get inside, out.","tags":["self-accountability"]},"excerpt":"","content":"\n### I'll be writing here about building things with code, or other things that I've found to be interesting or of use.\n\n#### Upcoming writings\n\n- Using Tekton CLI\n- Small JS Patterns\n  - [x] Config Object\n- Postgres Fun\n  - [x] File Imports\n  - [ ] File Exports\n  - [ ] \"Beanstalk\" Tables\n  - [ ] Common Table Expressions\n  - [ ] Generating Tables and Triggers\n  - [ ] Methods to Soft Delete\n- Small Refactorings\n- Transition to Cypress\n- Using Cypress Commands\n"}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"js-config-object"},"buildId":"oOI8uRw2ZM0FOAtUx6gRs","assetPrefix":"/blog","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/blog/_next/static/chunks/polyfills-9a32872f6a983227f3b1.js"></script><script src="/blog/_next/static/chunks/main-3426d16b71b08bec2947.js" async=""></script><script src="/blog/_next/static/chunks/webpack-488dc228921f1fdbc0e7.js" async=""></script><script src="/blog/_next/static/chunks/framework.a5d4ffe593e18b49243e.js" async=""></script><script src="/blog/_next/static/chunks/b59e6658.acdc88755e55ded238c8.js" async=""></script><script src="/blog/_next/static/chunks/commons.31bdf4c1b63891aa4bfa.js" async=""></script><script src="/blog/_next/static/chunks/pages/_app-21c7a7a663f3cc7fee82.js" async=""></script><script src="/blog/_next/static/chunks/1173eff4538ab0eae4f3f506dea9a7965770ad37.ff9aca2ce00f65120db1.js" async=""></script><script src="/blog/_next/static/chunks/pages/post/%5Bslug%5D-87e3a2ae1cb2ab3e35b1.js" async=""></script><script src="/blog/_next/static/oOI8uRw2ZM0FOAtUx6gRs/_buildManifest.js" async=""></script><script src="/blog/_next/static/oOI8uRw2ZM0FOAtUx6gRs/_ssgManifest.js" async=""></script></body></html>